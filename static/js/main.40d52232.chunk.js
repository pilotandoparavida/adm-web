(this["webpackJsonpadm-web"]=this["webpackJsonpadm-web"]||[]).push([[0],{105:function(e,t,a){},106:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(12),r=a.n(l),c=a(65),m=a(25),i=a(40),s=a.n(i),u=a(58),d=a(20),p=a(59),h=a.n(p).a.create({baseURL:"https://adm-backend.herokuapp.com",timeout:3e4}),g=a(32),f=a.n(g);function E(e){var t=e.history,a=Object(n.useState)(""),l=Object(d.a)(a,2),r=l[0],c=l[1],m=Object(n.useState)(""),i=Object(d.a)(m,2),p=i[0],g=i[1],E=Object(n.useState)(""),v=Object(d.a)(E,2),b=v[0],S=v[1],w=Object(n.useState)(""),x=Object(d.a)(w,2),N=x[0],j=x[1],y=Object(n.useState)(""),O=Object(d.a)(y,2),I=O[0],C=O[1],k=Object(n.useState)(!1),F=Object(d.a)(k,2),D=F[0],z=F[1];function B(){var e=!0;return p?S(""):(S("Informe o login."),e=!1),N?C(""):(C("Informe a senha."),e=!1),e}function L(){return(L=Object(u.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c(""),a.preventDefault(),B()&&(z(!0),h.get("/login",{headers:{login:p,senha:N}}).then((function(e){z(!1);var a=e.data.dados;localStorage.setItem("@admfrontendppv/hash",a),localStorage.setItem("@admfrontendppv/login",p),t&&t.push("/")})).catch((function(e){z(!1),e.response&&c(e.response.data.msg)})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"container"},o.a.createElement("img",{src:f.a,style:{cursor:"pointer"},alt:"Pilotando para Vida",className:"logo",onClick:function(){return localStorage.removeItem("@admfrontendppv/login"),localStorage.removeItem("@admfrontendppv/hash"),void(t&&t.push("/login"))}}),o.a.createElement("div",{className:"content"},o.a.createElement("form",{onSubmit:function(e){return L.apply(this,arguments)}},o.a.createElement("label",{htmlFor:"login"},"Login*"),o.a.createElement("div",{style:{fontSize:12,color:"red"}},b),o.a.createElement("input",{type:"text",id:"login",placeholder:"Login",onChange:function(e){return g(e.target.value)},value:p}),o.a.createElement("label",{htmlFor:"nascimento"},"Senha*"),o.a.createElement("div",{style:{fontSize:12,color:"red"}},I),o.a.createElement("input",{type:"password",id:"senha",placeholder:"Senha",onChange:function(e){return j(e.target.value)},value:N}),o.a.createElement("div",{style:{fontSize:12,color:"red"}},r),o.a.createElement("button",{type:"submit",disabled:D},D&&o.a.createElement("i",{className:"fa fa-refresh fa-spin"}),"Entrar")))))}a(99);var v=a(30),b=a(8);function S(e){var t=e.history,a=Object(n.useState)(localStorage.getItem("@admfrontendppv/login")||""),l=Object(d.a)(a,1)[0],c=Object(n.useState)(localStorage.getItem("@admfrontendppv/hash")||""),m=Object(d.a)(c,1)[0];function i(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",null,e.title),o.a.createElement(v.a,{rows:e.rows,columns:e.columns,columnExtensions:e.tableColumnExtensions},o.a.createElement(b.j,null),o.a.createElement(b.f,null),o.a.createElement(b.h,{defaultCurrentPage:0,pageSize:10}),o.a.createElement(b.e,null),o.a.createElement(v.c,null),o.a.createElement(v.d,{showSortingControls:!0}),o.a.createElement(v.b,null)))}function s(e){var t=new Date(e);return t.getDate()+"/"+t.getMonth()+"/"+t.getFullYear()}return Object(n.useEffect)((function(){""!==l&&""!==m&&void 0!==m&&void 0!==l||(localStorage.removeItem("@admfrontendppv/login"),localStorage.removeItem("@admfrontendppv/hash"),t&&t.push("/login"))}),[l,m,t]),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"container"},o.a.createElement("img",{src:f.a,style:{cursor:"pointer"},alt:"Pilotando para Vida",className:"logo",onClick:function(){return localStorage.removeItem("@admfrontendppv/login"),localStorage.removeItem("@admfrontendppv/hash"),void(t&&t.push("/login"))}}),o.a.createElement("div",{className:"content"},o.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},o.a.createElement("button",{style:{margin:"5px"},onClick:function(){h.get("/turma").then((function(e){for(var t=[],a=e.data.dados,n=0;n<a.length;++n)t.push({descricao:a[n].descricao,data:s(a[n].data),vagas:a[n].vagas,totalinscritos:a[n].totalinscritos,endereco:a[n].endereco});r.a.render(o.a.createElement(i,{title:"Turma",rows:t,columns:[{name:"descricao",title:"Descri\xe7\xe3o"},{name:"data",title:"Data"},{name:"vagas",title:"Vagas"},{name:"totalinscritos",title:"Total Inscritos"},{name:"endereco",title:"Endere\xe7o"}],tableColumnExtensions:[{columnName:"descricao",width:"auto"},{columnName:"data",width:"10px"},{columnName:"vagas",width:"10px"},{columnName:"totalinscritos",width:"10px"},{columnName:"endereco",width:"auto"}]}),document.getElementById("data"))})).catch((function(e){e.response&&console.log(e.response.data.msg)}))}},"Turma"),o.a.createElement("button",{style:{margin:"5px"},onClick:function(){h.get("/aluno").then((function(e){for(var t=[],a=e.data.dados,n=0;n<a.length;++n)t.push({nome:a[n].nome,cnh:a[n].cnh,ufcnh:a[n].ufcnh,celular:a[n].celular,sexo:a[n].sexo,nascimento:a[n].nascimento});r.a.render(o.a.createElement(i,{title:"Aluno",rows:t,columns:[{name:"nome",title:"Nome"},{name:"cnh",title:"CNH"},{name:"ufcnh",title:"UF CNH"},{name:"nascimento",title:"Nascimento"},{name:"celular",title:"Celular"},{name:"sexo",title:"Sexo"}],tableColumnExtensions:[{columnName:"nome",width:"auto"},{columnName:"cnh",width:"50px"},{columnName:"ufcnh",width:"10px"},{columnName:"celular",width:"20px"},{columnName:"sexo",width:"10px"},{columnName:"nascimento",width:"auto"}]}),document.getElementById("data"))})).catch((function(e){e.response&&console.log(e.response.data.msg)}))}},"Aluno")))),o.a.createElement("div",{className:"data",id:"data"}))}function w(){return o.a.createElement(c.a,null,o.a.createElement(m.c,null,o.a.createElement(m.a,{path:"/login",component:E}),o.a.createElement(m.a,{path:"/",exact:!0,component:S})))}a(105);var x=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(w,null))};r.a.render(o.a.createElement(x,null),document.getElementById("root"))},32:function(e,t,a){e.exports=a.p+"static/media/logo.90f64a36.png"},76:function(e,t,a){e.exports=a(106)},99:function(e,t,a){}},[[76,1,2]]]);
//# sourceMappingURL=main.40d52232.chunk.js.map