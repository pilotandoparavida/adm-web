(this["webpackJsonpadm-web"]=this["webpackJsonpadm-web"]||[]).push([[0],{105:function(e,t,n){},106:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(12),c=n.n(r),l=n(65),i=n(25),s=n(40),m=n.n(s),u=n(58),d=n(20),h=n(59),g=n.n(h).a.create({baseURL:"https://adm-backend.herokuapp.com",timeout:3e4}),f=n(32),p=n.n(f);function v(e){var t=e.history,n=Object(a.useState)(""),r=Object(d.a)(n,2),c=r[0],l=r[1],i=Object(a.useState)(""),s=Object(d.a)(i,2),h=s[0],f=s[1],v=Object(a.useState)(""),E=Object(d.a)(v,2),w=E[0],b=E[1],S=Object(a.useState)(""),x=Object(d.a)(S,2),N=x[0],y=x[1],j=Object(a.useState)(""),O=Object(d.a)(j,2),k=O[0],C=O[1],I=Object(a.useState)(!1),F=Object(d.a)(I,2),D=F[0],L=F[1];function T(){var e=!0;return h?b(""):(b("Informe o login."),e=!1),N?C(""):(C("Informe a senha."),e=!1),e}function W(){return(W=Object(u.a)(m.a.mark((function e(n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l(""),n.preventDefault(),T()&&(L(!0),g.get("/login",{headers:{login:h,senha:N}}).then((function(e){L(!1);var n=e.data.dados;localStorage.setItem("@admfrontendppv/hash",n),localStorage.setItem("@admfrontendppv/login",h),t&&t.push("/")})).catch((function(e){L(!1),e.response&&l(e.response.data.msg)})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"container"},o.a.createElement("img",{src:p.a,style:{cursor:"pointer"},alt:"Pilotando para Vida",className:"logo",onClick:function(){return localStorage.removeItem("@admfrontendppv/login"),localStorage.removeItem("@admfrontendppv/hash"),void(t&&t.push("/login"))}}),o.a.createElement("div",{className:"content"},o.a.createElement("form",{onSubmit:function(e){return W.apply(this,arguments)}},o.a.createElement("label",{htmlFor:"login"},"Login*"),o.a.createElement("div",{style:{fontSize:12,color:"red"}},w),o.a.createElement("input",{type:"text",id:"login",placeholder:"Login",onChange:function(e){return f(e.target.value)},value:h}),o.a.createElement("label",{htmlFor:"nascimento"},"Senha*"),o.a.createElement("div",{style:{fontSize:12,color:"red"}},k),o.a.createElement("input",{type:"password",id:"senha",placeholder:"Senha",onChange:function(e){return y(e.target.value)},value:N}),o.a.createElement("div",{style:{fontSize:12,color:"red"}},c),o.a.createElement("button",{type:"submit",disabled:D},D&&o.a.createElement("i",{className:"fa fa-refresh fa-spin"}),"Entrar")))))}n(99);var E=n(30),w=n(8);function b(e){var t=e.history,n=Object(a.useState)(localStorage.getItem("@admfrontendppv/login")||""),r=Object(d.a)(n,1)[0],l=Object(a.useState)(localStorage.getItem("@admfrontendppv/hash")||""),i=Object(d.a)(l,1)[0];function s(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",null,e.title),o.a.createElement(E.a,{rows:e.rows,columns:e.columns,columnExtensions:e.tableColumnExtensions},o.a.createElement(w.j,null),o.a.createElement(w.f,null),o.a.createElement(w.h,{defaultCurrentPage:0,pageSize:10}),o.a.createElement(w.e,null),o.a.createElement(E.c,null),o.a.createElement(E.d,{showSortingControls:!0}),o.a.createElement(E.b,null)))}function m(e){var t=new Date(e);return t.getDate()+"/"+t.getMonth()+"/"+t.getFullYear()}return Object(a.useEffect)((function(){""!==r&&""!==i&&void 0!==i&&void 0!==r||(localStorage.removeItem("@admfrontendppv/login"),localStorage.removeItem("@admfrontendppv/hash"),t&&t.push("/login"))}),[r,i,t]),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"container"},o.a.createElement("img",{src:p.a,style:{cursor:"pointer"},alt:"Pilotando para Vida",className:"logo",onClick:function(){return localStorage.removeItem("@admfrontendppv/login"),localStorage.removeItem("@admfrontendppv/hash"),void(t&&t.push("/login"))}}),o.a.createElement("div",{className:"content"},o.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},o.a.createElement("button",{style:{margin:"5px"},onClick:function(){g.get("/turma").then((function(e){for(var t=[],n=e.data.dados,a=0;a<n.length;++a)t.push({descricao:n[a].descricao,data:m(n[a].data),vagas:n[a].vagas,totalinscritos:n[a].totalinscritos,endereco:n[a].endereco});c.a.render(o.a.createElement(s,{title:"Turma",rows:t,columns:[{name:"descricao",title:"Descri\xe7\xe3o"},{name:"data",title:"Data"},{name:"vagas",title:"Vagas"},{name:"totalinscritos",title:"Total Inscritos"},{name:"endereco",title:"Endere\xe7o"}],tableColumnExtensions:[{columnName:"descricao",width:"auto"},{columnName:"data",width:"10px"},{columnName:"vagas",width:"10px"},{columnName:"totalinscritos",width:"10px"},{columnName:"endereco",width:"auto"}]}),document.getElementById("data"))})).catch((function(e){e.response&&console.log(e.response.data.msg)}))}},"Turma"),o.a.createElement("button",{style:{margin:"5px"},onClick:function(){g.get("/aluno").then((function(e){for(var t=[],n=e.data.dados,a=0;a<n.length;++a)t.push({nome:n[a].nome,cnh:n[a].cnh,ufcnh:n[a].ufcnh,celular:n[a].celular,sexo:n[a].sexo,nascimento:n[a].nascimento});c.a.render(o.a.createElement(s,{title:"Aluno",rows:t,columns:[{name:"nome",title:"Nome"},{name:"cnh",title:"CNH"},{name:"ufcnh",title:"UF CNH"},{name:"nascimento",title:"Nascimento"},{name:"celular",title:"Celular"},{name:"sexo",title:"Sexo"}],tableColumnExtensions:[{columnName:"nome",width:"auto"},{columnName:"cnh",width:"50px"},{columnName:"ufcnh",width:"10px"},{columnName:"celular",width:"20px"},{columnName:"sexo",width:"10px"},{columnName:"nascimento",width:"auto"}]}),document.getElementById("data"))})).catch((function(e){e.response&&console.log(e.response.data.msg)}))}},"Aluno")))),o.a.createElement("div",{className:"data",id:"data"}))}function S(){return o.a.createElement(l.a,null,o.a.createElement(i.c,null,o.a.createElement(i.a,{path:"/login",component:v}),o.a.createElement(i.a,{path:"/",exact:!0,component:b})))}n(105);var x=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(S,null))},N=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function y(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(o.a.createElement(x,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/adm-web",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/adm-web","/service-worker.js");N?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):y(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):y(e)}))}}()},32:function(e,t,n){e.exports=n.p+"static/media/logo.90f64a36.png"},76:function(e,t,n){e.exports=n(106)},99:function(e,t,n){}},[[76,1,2]]]);
//# sourceMappingURL=main.825457d7.chunk.js.map